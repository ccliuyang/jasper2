<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.4">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2020-03-09T17:38:06+00:00</updated><id>/</id><title type="html">Ghost</title><subtitle>The professional publishing platform</subtitle><entry><title type="html">【随想】越是想要的，越是得不到</title><link href="/%E9%9A%8F%E6%83%B3-%E8%B6%8A%E6%98%AF%E6%83%B3%E8%A6%81%E7%9A%84-%E8%B6%8A%E6%98%AF%E5%BE%97%E4%B8%8D%E5%88%B0" rel="alternate" type="text/html" title="【随想】越是想要的，越是得不到" /><published>2020-03-09T00:00:00+00:00</published><updated>2020-03-09T00:00:00+00:00</updated><id>/%E3%80%90%E9%9A%8F%E6%83%B3%E3%80%91%E8%B6%8A%E6%98%AF%E6%83%B3%E8%A6%81%E7%9A%84,%E8%B6%8A%E6%98%AF%E5%BE%97%E4%B8%8D%E5%88%B0</id><content type="html" xml:base="/%E9%9A%8F%E6%83%B3-%E8%B6%8A%E6%98%AF%E6%83%B3%E8%A6%81%E7%9A%84-%E8%B6%8A%E6%98%AF%E5%BE%97%E4%B8%8D%E5%88%B0">&lt;p&gt;【随想】越是想要的，越是得不到&lt;/p&gt;

&lt;p&gt;得失心太重是不行的。&lt;/p&gt;

&lt;p&gt;已识乾坤大，尤怜草木深。&lt;/p&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">【成长】所谓成长，就是一路丢盔弃甲，再长出自己的盔甲的过程吧</title><link href="/%E6%88%90%E9%95%BF-%E6%89%80%E8%B0%93%E6%88%90%E9%95%BF-%E5%B0%B1%E6%98%AF%E4%B8%80%E8%B7%AF%E4%B8%A2%E7%9B%94%E5%BC%83%E7%94%B2-%E5%86%8D%E9%95%BF%E5%87%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%9B%94%E7%94%B2%E7%9A%84%E8%BF%87%E7%A8%8B%E5%90%A7" rel="alternate" type="text/html" title="【成长】所谓成长，就是一路丢盔弃甲，再长出自己的盔甲的过程吧" /><published>2020-03-09T00:00:00+00:00</published><updated>2020-03-09T00:00:00+00:00</updated><id>/%E3%80%90%E6%88%90%E9%95%BF%E3%80%91%E6%89%80%E8%B0%93%E6%88%90%E9%95%BF,%E5%B0%B1%E6%98%AF%E4%B8%80%E8%B7%AF%E4%B8%A2%E7%9B%94%E5%BC%83%E7%94%B2,%E5%86%8D%E9%95%BF%E5%87%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%9B%94%E7%94%B2%E7%9A%84%E8%BF%87%E7%A8%8B%E5%90%A7</id><content type="html" xml:base="/%E6%88%90%E9%95%BF-%E6%89%80%E8%B0%93%E6%88%90%E9%95%BF-%E5%B0%B1%E6%98%AF%E4%B8%80%E8%B7%AF%E4%B8%A2%E7%9B%94%E5%BC%83%E7%94%B2-%E5%86%8D%E9%95%BF%E5%87%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%9B%94%E7%94%B2%E7%9A%84%E8%BF%87%E7%A8%8B%E5%90%A7">&lt;p&gt;【成长】所谓成长，就是一路丢盔弃甲，再长出自己的盔甲的过程吧&lt;/p&gt;</content><author><name></name></author><summary type="html">【成长】所谓成长，就是一路丢盔弃甲，再长出自己的盔甲的过程吧</summary></entry><entry><title type="html">【】</title><link href="/" rel="alternate" type="text/html" title="【】" /><published>2020-03-09T00:00:00+00:00</published><updated>2020-03-09T00:00:00+00:00</updated><id>/%E3%80%90%E3%80%91</id><content type="html" xml:base="/">&lt;p&gt;股票评估技巧&lt;/p&gt;

&lt;p&gt;股票是一种严格的经济产品，是有实际&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;股票基本性质&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;基本面&lt;/strong&gt;：&lt;/p&gt;

&lt;p&gt;股票基本面是指股票所属上市公司的经营状况，历年业绩，融资情况，商品质量，市场，近期诉讼纠纷&lt;/p&gt;</content><author><name></name></author><summary type="html">股票评估技巧</summary></entry><entry><title type="html">【随想】你的读书境界，决定你的人生高度</title><link href="/%E9%9A%8F%E6%83%B3-%E4%BD%A0%E7%9A%84%E8%AF%BB%E4%B9%A6%E5%A2%83%E7%95%8C-%E5%86%B3%E5%AE%9A%E4%BD%A0%E7%9A%84%E4%BA%BA%E7%94%9F%E9%AB%98%E5%BA%A6" rel="alternate" type="text/html" title="【随想】你的读书境界，决定你的人生高度" /><published>2020-03-08T14:27:00+00:00</published><updated>2020-03-08T14:27:00+00:00</updated><id>/%E3%80%90%E9%9A%8F%E6%83%B3%E3%80%91%E4%BD%A0%E7%9A%84%E8%AF%BB%E4%B9%A6%E5%A2%83%E7%95%8C,%E5%86%B3%E5%AE%9A%E4%BD%A0%E7%9A%84%E4%BA%BA%E7%94%9F%E9%AB%98%E5%BA%A6</id><content type="html" xml:base="/%E9%9A%8F%E6%83%B3-%E4%BD%A0%E7%9A%84%E8%AF%BB%E4%B9%A6%E5%A2%83%E7%95%8C-%E5%86%B3%E5%AE%9A%E4%BD%A0%E7%9A%84%E4%BA%BA%E7%94%9F%E9%AB%98%E5%BA%A6">&lt;h1 id=&quot;你的读书境界决定你的人生高度&quot;&gt;你的读书境界，决定你的人生高度&lt;/h1&gt;

&lt;p&gt;读书，是世界上门槛最低的高贵举动。它改变你的容颜，丰富你的思想，提升你的逻辑、谈吐。在阅读上花的每一秒，都将沉淀成将来更好的你。&lt;/p&gt;

&lt;p&gt;据说，全世界最爱读书的是德国人，几乎每一个德国家庭，都有书架，或设在书房，或摆放与客厅，似乎成为了家里的一件装饰，但很多德国人的书架上的书，他们几乎全部都读过。德国每个家庭平均藏书近300册，人均藏书一百多册。他们认为，一个家庭没有书籍，等于一间房子没有窗户。&lt;/p&gt;</content><author><name>Dexfire Alex</name></author><category term="idea" /><category term="article" /><category term="book" /><summary type="html">你的读书境界，决定你的人生高度</summary></entry><entry><title type="html">【随想】你为什么一定要努力呢？</title><link href="/%E9%9A%8F%E6%83%B3-%E4%BD%A0%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%AA%E5%8A%9B%E5%91%A2" rel="alternate" type="text/html" title="【随想】你为什么一定要努力呢？" /><published>2020-03-06T00:00:00+00:00</published><updated>2020-03-06T00:00:00+00:00</updated><id>/%E3%80%90%E9%9A%8F%E6%83%B3%E3%80%91%E4%BD%A0%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%AA%E5%8A%9B%E5%91%A2%3F</id><content type="html" xml:base="/%E9%9A%8F%E6%83%B3-%E4%BD%A0%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%AA%E5%8A%9B%E5%91%A2">&lt;p&gt;这个世界需要的，似乎不是聪明人，而是能干的人，能办实事的人，能把事情做好的人，做一行行一行的人，而不是对某一方面有特殊爱好的人。&lt;/p&gt;

&lt;p&gt;要想成为一个卓越的人似乎越来越难，因为创造不了新的高度，你就永远保持被历史所埋没的状态。&lt;/p&gt;</content><author><name></name></author><summary type="html">这个世界需要的，似乎不是聪明人，而是能干的人，能办实事的人，能把事情做好的人，做一行行一行的人，而不是对某一方面有特殊爱好的人。</summary></entry><entry><title type="html">【随想】把命运托付给自己的感觉</title><link href="/%E9%9A%8F%E6%83%B3-%E6%8A%8A%E5%91%BD%E8%BF%90%E6%89%98%E4%BB%98%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9A%84%E6%84%9F%E8%A7%89" rel="alternate" type="text/html" title="【随想】把命运托付给自己的感觉" /><published>2020-03-05T00:00:00+00:00</published><updated>2020-03-05T00:00:00+00:00</updated><id>/%E3%80%90%E9%9A%8F%E6%83%B3%E3%80%91%E6%8A%8A%E5%91%BD%E8%BF%90%E6%89%98%E4%BB%98%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9A%84%E6%84%9F%E8%A7%89</id><content type="html" xml:base="/%E9%9A%8F%E6%83%B3-%E6%8A%8A%E5%91%BD%E8%BF%90%E6%89%98%E4%BB%98%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9A%84%E6%84%9F%E8%A7%89">&lt;ol&gt;
  &lt;li&gt;命运托付在自己手上的感觉，真好。&lt;/li&gt;
  &lt;li&gt;别问为什么，别问该不该，去做！别问前途如何。&lt;/li&gt;
  &lt;li&gt;自律&lt;/li&gt;
  &lt;li&gt;不要假性勤劳呀&lt;/li&gt;
  &lt;li&gt;生活要有诗意&lt;/li&gt;
  &lt;li&gt;你开心了，才能哄好需要你来哄的女孩子。&lt;/li&gt;
&lt;/ol&gt;</content><author><name></name></author><summary type="html">命运托付在自己手上的感觉，真好。 别问为什么，别问该不该，去做！别问前途如何。 自律 不要假性勤劳呀 生活要有诗意 你开心了，才能哄好需要你来哄的女孩子。</summary></entry><entry><title type="html">【甜句】no.0004</title><link href="/%E7%94%9C%E5%8F%A5-No.0004" rel="alternate" type="text/html" title="【甜句】no.0004" /><published>2020-03-05T00:00:00+00:00</published><updated>2020-03-05T00:00:00+00:00</updated><id>/%E3%80%90%E7%94%9C%E5%8F%A5%E3%80%91No.0004</id><content type="html" xml:base="/%E7%94%9C%E5%8F%A5-No.0004">&lt;p&gt;“恋爱就是要有仪式感啊，抛开所有的推拉试探，确定关系要正式，空间指定速速更新，名片也要留印记，天天挂在嘴边，情侣空间情侣相册一个不落”&lt;/p&gt;

&lt;p&gt;不行的，我这个人孤独成性，习惯独来独往，风里来雨里去，天黑一个人，下雪一个人，我怕过什么呢？唯一怕的，就是哪天突然有个人闪闪发亮的人，发现了角落里的我，可我一看到她身上的光芒，萤火般温柔却比星星月亮更耀眼，就只想躲得更远…可我心里想的，却明明是抱住她亲个够和她说好喜欢呀！&lt;/p&gt;</content><author><name></name></author><summary type="html">“恋爱就是要有仪式感啊，抛开所有的推拉试探，确定关系要正式，空间指定速速更新，名片也要留印记，天天挂在嘴边，情侣空间情侣相册一个不落”</summary></entry><entry><title type="html">【甜丧】你要明白，女孩喜欢…</title><link href="/%E7%94%9C%E4%B8%A7-%E4%BD%A0%E8%A6%81%E6%98%8E%E7%99%BD-%E5%A5%B3%E5%AD%A9%E5%96%9C%E6%AC%A2..." rel="alternate" type="text/html" title="【甜丧】你要明白，女孩喜欢..." /><published>2020-03-05T00:00:00+00:00</published><updated>2020-03-05T00:00:00+00:00</updated><id>/%E3%80%90%E7%94%9C%E4%B8%A7%E3%80%91%E4%BD%A0%E8%A6%81%E6%98%8E%E7%99%BD,%E5%A5%B3%E5%AD%A9%E5%96%9C%E6%AC%A2...</id><content type="html" xml:base="/%E7%94%9C%E4%B8%A7-%E4%BD%A0%E8%A6%81%E6%98%8E%E7%99%BD-%E5%A5%B3%E5%AD%A9%E5%96%9C%E6%AC%A2...">&lt;p&gt;你要明白，一个女孩子喜欢你，和你喜欢一个女孩子，这两件事是有本质区别的。
女孩子的喜欢，可以是想办法把自己托付给你，而你的喜欢，却只能是找一个愿意把自己托付给你的女孩子。
那可是一个娇贵高傲、反复无常、柔软可爱的女孩子呀，别人辛辛苦苦地长大，就这样把后半生的使用权都交给你了，你都不懂得好好爱惜，还口口声声说喜欢，喜欢个**，你配得到吗？&lt;/p&gt;</content><author><name></name></author><summary type="html">你要明白，一个女孩子喜欢你，和你喜欢一个女孩子，这两件事是有本质区别的。 女孩子的喜欢，可以是想办法把自己托付给你，而你的喜欢，却只能是找一个愿意把自己托付给你的女孩子。 那可是一个娇贵高傲、反复无常、柔软可爱的女孩子呀，别人辛辛苦苦地长大，就这样把后半生的使用权都交给你了，你都不懂得好好爱惜，还口口声声说喜欢，喜欢个**，你配得到吗？</summary></entry><entry><title type="html">【scrapy】使用scrapy爬取网页</title><link href="/scrapy-%E4%BD%BF%E7%94%A8scrapy%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5" rel="alternate" type="text/html" title="【scrapy】使用scrapy爬取网页" /><published>2020-03-05T00:00:00+00:00</published><updated>2020-03-05T00:00:00+00:00</updated><id>/%E3%80%90scrapy%E3%80%91%E4%BD%BF%E7%94%A8scrapy%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5</id><content type="html" xml:base="/scrapy-%E4%BD%BF%E7%94%A8scrapy%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5">&lt;h1 id=&quot;使用-scrapy-简单爬取网页&quot;&gt;使用 Scrapy 简单爬取网页&lt;/h1&gt;

&lt;p&gt;首先，使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;scrapy startproject &amp;lt;project_name&amp;gt; &amp;lt;project_path&amp;gt;&lt;/code&gt; 建立一个爬虫.&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; scrapy startproject eol eol
New Scrapy project &lt;span class=&quot;s1&quot;&gt;'eol'&lt;/span&gt;, &lt;span class=&quot;k&quot;&gt;using &lt;/span&gt;template directory &lt;span class=&quot;s1&quot;&gt;'c:\users\dexfire\appdata\local\programs\python\python37\lib\site-packages\scrapy\templates\project'&lt;/span&gt;, created &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;:
    D:\CreatingSpace\VSCode\Python36\eol.cn\eol

You can &lt;span class=&quot;nb&quot;&gt;start &lt;/span&gt;your first spider with:
    &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;eol
    scrapy genspider example example.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后我们建立一个 CSVFeed 爬虫，因为集成了数据处理部分，方便提取和储存。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;scrapy genspider csvfeed gkcx.eol.cn&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; scrapy genspider csvfeed gkcx.eol.cn
Created spider &lt;span class=&quot;s1&quot;&gt;'csvfeed'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using &lt;/span&gt;template &lt;span class=&quot;s1&quot;&gt;'basic'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;module:
  eol.spiders.csvfeed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后我们看到这样一段初始代码：&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CsvfeedSpider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scrapy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Spider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'csvfeed'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;allowed_domains&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'gkcx.eol.cn'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;start_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'http://gkcx.eol.cn'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;这段代码非常简洁，简洁得有些离谱，这个…就是爬虫的本体？&lt;/p&gt;

&lt;p&gt;事实上呢，这里只是暴露在外的部分， scrapy 本身就是一个爬虫可能用到的所有辅助util工具的一个集合，因此需要用户输入很少的关键配置信息即可快速生成一个相关的爬虫，正是运用的这种逻辑。那么，深层的代码到底怎样运作的呢？&lt;/p&gt;

&lt;p&gt;做编码工作，不一定要能自己编写一个完整框架，不过除了要灵活掌握框架用法以外，还一定要清楚的，就是这个框架的底层实现机制，要有个大致脉络，否则无论编码和调试都很容易卡壳的。&lt;/p&gt;

&lt;p&gt;那么，我们开始，对 scrapy 进行抽丝剥茧，看看这只肥得流油的小宝贝肚子里到底装了些什么呢？&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;assets/images/QQ截图20200305094313.png&quot; alt=&quot;p1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;首先直观来看，这里似乎”定义”了几个变量，&lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;allowed_domains&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;start_url&lt;/code&gt; 却并没有对其进行任何操作，这显然是不合理的，事实上，这里的几个变量，都是其父类的成员变量，所以一定有方法对这几个变量进行了调用的。&lt;/p&gt;

&lt;p&gt;首先我们打开第一个底层类，也即是我们所有spider的祖总类，&lt;code class=&quot;highlighter-rouge&quot;&gt;scrapy.Spider&lt;/code&gt;，&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Spider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;object_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;Base class for scrapy spiders. All spiders must inherit from this
    class.
    &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;custom_settings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;getattr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ValueError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s must have a name&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hasattr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'start_urls'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start_urls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@property&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getLogger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LoggerAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'spider'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DEBUG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;Log the given message at the given log level

        This helper wraps a log call to the logger within the spider, but you
        can use it directly (e.g. Spider.logger.info('msg')) or use any other
        Python logger too.
        &quot;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@classmethod&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;from_crawler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;spider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;spider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set_crawler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spider&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_set_crawler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;settings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;settings&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;crawler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spider_closed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;start_requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__class__&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method_is_overridden&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Spider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'make_requests_from_url'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;warnings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;s&quot;&gt;&quot;Spider.make_requests_from_url method is deprecated; it &quot;&lt;/span&gt;
                &lt;span class=&quot;s&quot;&gt;&quot;won't be called in future Scrapy releases. Please &quot;&lt;/span&gt;
                &lt;span class=&quot;s&quot;&gt;&quot;override Spider.start_requests method instead (see &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s.&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s).&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__module__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start_urls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_requests_from_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start_urls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dont_filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_requests_from_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot; This method is deprecated. &quot;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dont_filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NotImplementedError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'{}.parse callback is not defined'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@classmethod&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update_settings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;settings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;settings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setdict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;custom_settings&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'spider'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@classmethod&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;handles_request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url_is_from_spider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@staticmethod&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;closed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;getattr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'closed'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;callable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;closed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;r at 0x&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%0&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;x&amp;gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;我们发现，其内部是这样的，定义了多个函数&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;__init__&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;logger&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;log&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;from_crawler&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;start_requests&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;make_requests_from_url&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;parse&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_set_crawler&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;update_settings&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;handles_request&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;close&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;__str__&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;而实际我们默认的爬虫中，只覆盖实现了 &lt;code class=&quot;highlighter-rouge&quot;&gt;parse&lt;/code&gt; 方法，也就是说，其他的所有方法均采取默认方式。
从这里的名字我们可以看到，scrapy 在运行爬虫的时候，首先使用&lt;code class=&quot;highlighter-rouge&quot;&gt;__init__&lt;/code&gt;初始化爬虫，然后调用某些方法，例如&lt;code class=&quot;highlighter-rouge&quot;&gt;start_requests&lt;/code&gt;获取起始请求，并进一步在&lt;code class=&quot;highlighter-rouge&quot;&gt;handle&lt;/code&gt; request的过程中传递新的url给系统，从而开始调用下一层次的爬取工作。&lt;/p&gt;

&lt;p&gt;下一步我们关心的是，我们究竟怎样发起第一个请求呢？事实上，根据官方文档，起始方式有“两种”，起始呢，本质上也都是一种：调用&lt;code class=&quot;highlighter-rouge&quot;&gt;start_requests&lt;/code&gt;函数，返回一个Request对象，那么这个request对象又包含哪些参数呢？我们跟着摸摸底：&lt;/p&gt;

&lt;p&gt;官网参考文档：&lt;a href=&quot;https://docs.scrapy.org/en/latest/topics/request-response.html&quot;&gt;scrapy: request-response&lt;/a&gt;
文件名：&lt;code class=&quot;highlighter-rouge&quot;&gt;Python37\Lib\site-packages\scrapy\http\__init__.py&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.headers&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Headers&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.request&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.request.form&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FormRequest&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.request.rpc&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XmlRpcRequest&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.request.json_request&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;JsonRequest&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.response&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Response&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.response.html&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HtmlResponse&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.response.xml&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XmlResponse&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scrapy.http.response.text&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TextResponse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;事实上，这个 &lt;code class=&quot;highlighter-rouge&quot;&gt;scrapy.http.Request&lt;/code&gt; 仅仅是一个封装类，其底层是引用了多个子类，包括多种Request类，以及多种Response类。&lt;/p&gt;

&lt;p&gt;这里，由于我们使用的是 Json 文件请求，所以同样也采用 &lt;code class=&quot;highlighter-rouge&quot;&gt;JsonRequest&lt;/code&gt; 和 &lt;code class=&quot;highlighter-rouge&quot;&gt;JsonResponse&lt;/code&gt; 来构造我们的请求：&lt;/p&gt;</content><author><name></name></author><summary type="html">使用 Scrapy 简单爬取网页</summary></entry><entry><title type="html">别急呀，等我走了你再喜欢我叭！</title><link href="/%E5%BD%B1%E8%AF%84-%E5%A6%82%E4%BD%95%E8%AF%84%E4%BB%B7-%E8%8A%88%E6%9C%88%E4%BC%A0" rel="alternate" type="text/html" title="别急呀，等我走了你再喜欢我叭！" /><published>2020-03-04T21:19:00+00:00</published><updated>2020-03-04T21:19:00+00:00</updated><id>/%E3%80%90%E5%BD%B1%E8%AF%84%E3%80%91%E5%A6%82%E4%BD%95%E8%AF%84%E4%BB%B7%E3%80%8A%E8%8A%88%E6%9C%88%E4%BC%A0%E3%80%8B</id><content type="html" xml:base="/%E5%BD%B1%E8%AF%84-%E5%A6%82%E4%BD%95%E8%AF%84%E4%BB%B7-%E8%8A%88%E6%9C%88%E4%BC%A0">&lt;h1 id=&quot;芈月传&quot;&gt;芈月传&lt;/h1&gt;

&lt;p&gt;芈月是一个特别招人爱的角色，该说她集揽了女孩子所能拥有的特质，也有着男人&lt;/p&gt;

&lt;p&gt;18集 芈月在义渠被俘，但她从未不低声下气，宁一死以为所爱之人报仇。尽管面前尽是陌生的环境陌生的人，她孤零零一个女人，却能&lt;/p&gt;</content><author><name>Dexfire Alex</name></author><category term="sweet" /><category term="sentences" /><summary type="html">芈月传</summary></entry></feed>