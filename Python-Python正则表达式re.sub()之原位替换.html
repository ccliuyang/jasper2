<!DOCTYPE html>
<html>

<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>【Python】Python正则表达式re.sub()之原位替换</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/tomorrow.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
    <!-- <script>hljs.initHighlightingOnLoad();</script> -->
    <style>
        .hljs {
            background: none;
        }
    </style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="The professional publishing platform" />
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="/Python-Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub()%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Ghost" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="【Python】Python正则表达式re.sub()之原位替换" />
    <meta property="og:description" content="【Python】Python正则表达式re.sub()之原位替换 首先讲一下背景，这里是一个API网页接口，其中的html内容为了便于使用json进行传输，使用了许多escape 格式，类似 \x22 \x3C 的样子，这里贴一部分： &gt;&gt;&gt; feed = r'class=\x22info-detail\x22&gt;\x3Cspan class=\x22 ui-mr8 state\x22 &gt;3月7日 22:01\x3C\/span&gt;\x3Ca href=\x22javascript:;\x22 data-cmd=\x22qz_sign\x22 class=\x22f-sign-show state\x22 title=\x22我也要设置\x22&gt;\x3C\/a&gt;\x3C\/div&gt;\x3C\/div&gt;\x3C\/div&gt;\x3Cdiv class=\x22f-single-content f-wrap\x22&gt;\x3Cdiv class=\x22f-item f-s-i\x22 id=\x22feed_....._311_0_1583589681_0_1\x22 data-feedsflag=\x22\x22 data-iswupfeed=\x221\x22 data-key=\x227e6e330318a9635e0a8f0000\x22 data-specialtype=\x22\x22 data-extend-info=\x220_0_1_0_0_0_0|08009cc0040f5001|0008000000000000\x22 data-functype=\x22\x22 data-hasfollowed=\x221\x22&gt;\x3Cdiv class=\x22f-info qz_info_cut\x22&gt;我教你们怎么做舔狗，一天三遍请安记得把称呼带上，哥哥早上好，哥哥晚上好，对方回你一句话赶紧十句话顶上去嘘寒问暖要安排上，吃了吗？在干嘛？下雪了吗？下雨了吗？冷吗？加衣服了吗？哥哥你那里降温了记得添衣服，哥哥你那里下雨了记得带伞，哥哥你在哪？哥哥我请你吃饭，哥哥晚上有时间吗？哥哥中午有时间吗？哥哥辛苦了，哥哥穿这身真帅，哥哥你看今晚的星星，哥哥你要睡觉了吗？哥哥我觉得这个特别适合你就给你买了你别不高 \x3Ca' 经过一反度娘科普，发现其实也就是对html标签tag中的&lt; &gt; ' ' 进行了转义，但又不一定只有这几种情况，总的来讲，这些符号全都属于 ascii 编码的范畴，所以我们要做的就是对这些转义字符进行逆向解码。 首先呢，二狗在这里尽量尝试不借助Python文档以外的外界超自然力量进行研究，首先想到这个可否使用 Python 自带的编解码函数进行解码呢？毕竟 Python3 对自然语言编码可是增强了一大截，这点小问题应该难不倒万能胶语言的嘛？ 我们的基本思路是： 方案一：首先看是否存在 str" />
    <meta property="og:url" content="/Python-Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub()%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2" />
    <meta property="og:image" content="/python.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/ghost" />
    <meta property="article:author" content="https://www.facebook.com/ghost" />
    <meta property="article:published_time" content="2020-03-11T00:49:00+00:00" />
    <meta property="article:modified_time" content="2020-03-11T00:49:00+00:00" />
    <meta property="article:tag" content="Python" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="【Python】Python正则表达式re.sub()之原位替换" />
    <meta name="twitter:description" content="【Python】Python正则表达式re.sub()之原位替换 首先讲一下背景，这里是一个API网页接口，其中的html内容为了便于使用json进行传输，使用了许多escape 格式，类似 \x22 \x3C 的样子，这里贴一部分： &gt;&gt;&gt; feed = r'class=\x22info-detail\x22&gt;\x3Cspan class=\x22 ui-mr8 state\x22 &gt;3月7日 22:01\x3C\/span&gt;\x3Ca href=\x22javascript:;\x22 data-cmd=\x22qz_sign\x22 class=\x22f-sign-show state\x22 title=\x22我也要设置\x22&gt;\x3C\/a&gt;\x3C\/div&gt;\x3C\/div&gt;\x3C\/div&gt;\x3Cdiv class=\x22f-single-content f-wrap\x22&gt;\x3Cdiv class=\x22f-item f-s-i\x22 id=\x22feed_....._311_0_1583589681_0_1\x22 data-feedsflag=\x22\x22 data-iswupfeed=\x221\x22 data-key=\x227e6e330318a9635e0a8f0000\x22 data-specialtype=\x22\x22 data-extend-info=\x220_0_1_0_0_0_0|08009cc0040f5001|0008000000000000\x22 data-functype=\x22\x22 data-hasfollowed=\x221\x22&gt;\x3Cdiv class=\x22f-info qz_info_cut\x22&gt;我教你们怎么做舔狗，一天三遍请安记得把称呼带上，哥哥早上好，哥哥晚上好，对方回你一句话赶紧十句话顶上去嘘寒问暖要安排上，吃了吗？在干嘛？下雪了吗？下雨了吗？冷吗？加衣服了吗？哥哥你那里降温了记得添衣服，哥哥你那里下雨了记得带伞，哥哥你在哪？哥哥我请你吃饭，哥哥晚上有时间吗？哥哥中午有时间吗？哥哥辛苦了，哥哥穿这身真帅，哥哥你看今晚的星星，哥哥你要睡觉了吗？哥哥我觉得这个特别适合你就给你买了你别不高 \x3Ca' 经过一反度娘科普，发现其实也就是对html标签tag中的&lt; &gt; ' ' 进行了转义，但又不一定只有这几种情况，总的来讲，这些符号全都属于 ascii 编码的范畴，所以我们要做的就是对这些转义字符进行逆向解码。 首先呢，二狗在这里尽量尝试不借助Python文档以外的外界超自然力量进行研究，首先想到这个可否使用 Python 自带的编解码函数进行解码呢？毕竟 Python3 对自然语言编码可是增强了一大截，这点小问题应该难不倒万能胶语言的嘛？ 我们的基本思路是： 方案一：首先看是否存在 str" />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image" content="/python.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Ghost" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta name="twitter:site" content="@tryghost" />
    <meta name="twitter:creator" content="@tryghost" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Ghost",
        "logo": "/assets/images/blog-icon.png"
    },
    "url": "/Python-Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub()%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2",
    "image": {
        "@type": "ImageObject",
        "url": "/python.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/Python-Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub()%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2"
    },
    "description": "【Python】Python正则表达式re.sub()之原位替换 首先讲一下背景，这里是一个API网页接口，其中的html内容为了便于使用json进行传输，使用了许多escape 格式，类似 \x22 \x3C 的样子，这里贴一部分： &gt;&gt;&gt; feed = r'class=\x22info-detail\x22&gt;\x3Cspan class=\x22 ui-mr8 state\x22 &gt;3月7日 22:01\x3C\/span&gt;\x3Ca href=\x22javascript:;\x22 data-cmd=\x22qz_sign\x22 class=\x22f-sign-show state\x22 title=\x22我也要设置\x22&gt;\x3C\/a&gt;\x3C\/div&gt;\x3C\/div&gt;\x3C\/div&gt;\x3Cdiv class=\x22f-single-content f-wrap\x22&gt;\x3Cdiv class=\x22f-item f-s-i\x22 id=\x22feed_....._311_0_1583589681_0_1\x22 data-feedsflag=\x22\x22 data-iswupfeed=\x221\x22 data-key=\x227e6e330318a9635e0a8f0000\x22 data-specialtype=\x22\x22 data-extend-info=\x220_0_1_0_0_0_0|08009cc0040f5001|0008000000000000\x22 data-functype=\x22\x22 data-hasfollowed=\x221\x22&gt;\x3Cdiv class=\x22f-info qz_info_cut\x22&gt;我教你们怎么做舔狗，一天三遍请安记得把称呼带上，哥哥早上好，哥哥晚上好，对方回你一句话赶紧十句话顶上去嘘寒问暖要安排上，吃了吗？在干嘛？下雪了吗？下雨了吗？冷吗？加衣服了吗？哥哥你那里降温了记得添衣服，哥哥你那里下雨了记得带伞，哥哥你在哪？哥哥我请你吃饭，哥哥晚上有时间吗？哥哥中午有时间吗？哥哥辛苦了，哥哥穿这身真帅，哥哥你看今晚的星星，哥哥你要睡觉了吗？哥哥我觉得这个特别适合你就给你买了你别不高 \x3Ca' 经过一反度娘科普，发现其实也就是对html标签tag中的&lt; &gt; ' ' 进行了转义，但又不一定只有这几种情况，总的来讲，这些符号全都属于 ascii 编码的范畴，所以我们要做的就是对这些转义字符进行逆向解码。 首先呢，二狗在这里尽量尝试不借助Python文档以外的外界超自然力量进行研究，首先想到这个可否使用 Python 自带的编解码函数进行解码呢？毕竟 Python3 对自然语言编码可是增强了一大截，这点小问题应该难不倒万能胶语言的嘛？ 我们的基本思路是： 方案一：首先看是否存在 str"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="【Python】Python正则表达式re.sub()之原位替换" href="/feed.xml" />


</head>

<body
    class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/"><img src="/assets/images/blog-icon.png" alt="Ghost" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/author/dexfire/">Dexfire</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/sweet/">Sweets</a>
    </li>
    <li class="nav-embed" role="menuitem"><a href="/tag/ai/">AI</a></li>
    <li class="nav-embed" role="menuitem"><a href="/tag/embed/">Embed</a></li>
    <li class="nav-about" role="menuitem"><a href="/tag/star/">Stars</a></li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/ghost" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/tryghost" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main class="site-main outer" id="site-main" role="main">
    <div class="inner">

        <article class="post-full post python, dev ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="11 March 2020">11 March 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                                <a href='/tag/python/'>PYTHON</a>,
                            
                        
                            
                                <a href='/tag/dev/'>DEV</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">【Python】Python正则表达式re.sub()之原位替换</h1>
            </header>

            
                <figure class="post-full-image" style="background-image: url(/assets/images/python.jpg)"></figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h1 id="pythonpython正则表达式resub之原位替换">【Python】Python正则表达式re.sub()之原位替换</h1>

<p>首先讲一下背景，这里是一个API网页接口，其中的html内容为了便于使用json进行传输，使用了许多escape 格式，类似 <code class="highlighter-rouge">\x22</code> <code class="highlighter-rouge">\x3C</code> 的样子，这里贴一部分：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">feed</span> <span class="o">=</span> <span class="s">r'class=\x22info-detail\x22&gt;\x3Cspan  class=\x22 ui-mr8 state\x22 &gt;3月7日 22:01\x3C\/span&gt;\x3Ca href=\x22javascript:;\x22 data-cmd=\x22qz_sign\x22 class=\x22f-sign-show state\x22 title=\x22我也要设置\x22&gt;\x3C\/a&gt;\x3C\/div&gt;\x3C\/div&gt;\x3C\/div&gt;\x3Cdiv class=\x22f-single-content f-wrap\x22&gt;\x3Cdiv class=\x22f-item f-s-i\x22 id=\x22feed_....._311_0_1583589681_0_1\x22 data-feedsflag=\x22\x22 data-iswupfeed=\x221\x22 data-key=\x227e6e330318a9635e0a8f0000\x22 data-specialtype=\x22\x22 data-extend-info=\x220_0_1_0_0_0_0|08009cc0040f5001|0008000000000000\x22 data-functype=\x22\x22 data-hasfollowed=\x221\x22&gt;\x3Cdiv class=\x22f-info qz_info_cut\x22&gt;我教你们怎么做舔狗，一天三遍请安记得把称呼带上，哥哥早上好，哥哥晚上好，对方回你一句话赶紧十句话顶上去嘘寒问暖要安排上，吃了吗？在干嘛？下雪了吗？下雨了吗？冷吗？加衣服了吗？哥哥你那里降温了记得添衣服，哥哥你那里下雨了记得带伞，哥哥你在哪？哥哥我请你吃饭，哥哥晚上有时间吗？哥哥中午有时间吗？哥哥辛苦了，哥哥穿这身真帅，哥哥你看今晚的星星，哥哥你要睡觉了吗？哥哥我觉得这个特别适合你就给你买了你别不高 \x3Ca'</span>
</code></pre></div></div>

<p>经过一反度娘科普，发现其实也就是对html标签tag中的<code class="highlighter-rouge">&lt;</code> <code class="highlighter-rouge">&gt;</code> <code class="highlighter-rouge">'</code> <code class="highlighter-rouge">'</code> 进行了转义，但又不一定只有这几种情况，总的来讲，这些符号全都属于 ascii 编码的范畴，所以我们要做的就是对这些转义字符进行逆向解码。</p>

<p>首先呢，二狗在这里尽量尝试不借助Python文档以外的外界超自然力量进行研究，首先想到这个可否使用 Python 自带的编解码函数进行解码呢？毕竟 Python3 对自然语言编码可是增强了一大截，这点小问题应该难不倒万能胶语言的嘛？</p>

<p>我们的基本思路是：</p>
<ol>
  <li><strong>方案一</strong>：首先看是否存在 <code class="highlighter-rouge">str</code> 类的二次解码函数。</li>
  <li><strong>方案二</strong>：其次就是曲线救国路线，线进行一次额外的编码，而后再进行一次解码。</li>
</ol>

<p>那么问题来了，怎样进行编解码呢？我首先想到的是 <code class="highlighter-rouge">str</code> 类的 <code class="highlighter-rouge">str.encode()</code> 函数,以及其对应的解码函数 <code class="highlighter-rouge">byte.decode()</code> ，这两个函数的功能分别是：</p>
<ol>
  <li>
    <p><code class="highlighter-rouge">str.encode(encoding="utf-8", errors="strict")</code> 对文本字符串进行编码，接收一个编码类型参数，编码结果为一个 <code class="highlighter-rouge">byte</code> 型的编码数据。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">byte.decode()</code> 用于对 字节型 数据进行解码，解码结果为一个 <code class="highlighter-rouge">str</code> 字符串，可以传递一个编码参数，也可以不提供，这时函数库会自动根据编码特性进行 <strong>猜测</strong> ，这当然本身是一个复杂的工作，不过我们用的是python，强大的函数库的确为我们大幅度减少了工作量。</p>
  </li>
</ol>

<p>那么又问题来了，Python到底支持那些编码格式，我们又该用哪种方案进行解码呢？
这里贴出Python的两处文档，一个是<code class="highlighter-rouge">str.encode()</code>函数，一个是<code class="highlighter-rouge">codecs</code> 专栏，也就是专门讲解python中编解码的详尽列表。</p>
<ol>
  <li><a href="https://docs.python.org/zh-cn/3/library/stdtypes.html?highlight=str%20encode#str.encode">内置类型 - str.encode(encoding=”utf-8”, errors=”strict”)</a></li>
  <li><a href="https://docs.python.org/zh-cn/3/library/codecs.html#standard-encodings">codecs — 编解码器注册和相关基类</a></li>
</ol>

<p>我们可以看到这里一个非常权威且霸道的用词：</p>

<blockquote>
  <p><strong>标准编码</strong>
Python 自带了许多内置的编解码器，它们的实现或者是通过 C 函数，或者是通过映射表。 以下表格是按名称排序的编解码器列表，并提供了一些常见别名以及编码格式通常针对的语言。 别名和语言列表都不是<strong>详尽无遗</strong>的。 请注意仅有大小写区别或使用连字符替代下划线的拼写形式也都是有效的别名；因此，’utf-8’ 是 ‘utf_8’ 编解码器的有效别名。</p>
</blockquote>

<p>这个表格大体是这个格式：</p>

<p><img src="/assets/images/QQ截图20200311010842.png" alt="Python支持的编码格式" /></p>

<p>我们搜索ASCII关键字，发现其中涉及到ASCII的寥寥无几，反正是为了偷懒，司马当活马医，看上哪个就用哪个了。</p>

<h2 id="首先是方案一">首先是方案一</h2>
<p>这里，通过python文档并没有看到这种奇奇怪怪的解码函数，因为的确有些小众了，这里实在有些按耐不住，还是动用了外部力量，发现的确曾经有前辈研究过这类问题：</p>

<p>参考链接：</p>
<ol>
  <li><a href="https://jingyan.baidu.com/article/a3aad71ab430e8b1fb0096c6.html">Python教程：[37]处理网页源码中的\x22字符 - 百度经验</a></li>
  <li><a href="https://blog.csdn.net/tiwoo/article/details/50334515">Python 中使用 string-escape 将带转义的字节码字符串转换为 utf-8 字符串</a></li>
</ol>

<p>没错，结果呢，我们发现这两个都使用了一个非常神奇的操作，一下子就得到了解码后的结果：都是用了一个<code class="highlighter-rouge">str.decode('string-escape')</code> 称之为“<strong>文本转义</strong>”的解码方式，然鹅，我们用的是Py3，其中已经找不到这个函数了。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">feed</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'string-escape'</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;pyshell#287&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">feed</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'string-escape'</span><span class="p">)</span>
<span class="nb">AttributeError</span><span class="p">:</span> <span class="s">'str'</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s">'decode'</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div></div>

<p>要相信天无绝人之路，我们继续搜搜，发现了这个stackoverflow的贴子，其中介绍的是关于python3 中的实现方法。</p>
<ol>
  <li><a href="https://stackoverflow.com/questions/14820429/how-do-i-decodestring-escape-in-python3">how do I .decode(‘string-escape’) in Python3?</a>
问法非常直接粗暴，果然是老外的办事风格，严谨认真且直捣黄龙。</li>
</ol>

<p>I have some escaped strings that need to be unescaped. I’d like to do this in Python.</p>

<p>For example, in python2.7 I can do this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="s">"</span><span class="se">\\</span><span class="s">123omething special"</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'string-escape'</span><span class="p">)</span>
<span class="s">'Something special'</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">How</span> <span class="n">do</span> <span class="n">I</span> <span class="n">do</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">Python3</span><span class="err">?</span> <span class="n">This</span> <span class="n">doesn</span><span class="s">'t work:</span><span class="err">

</span><span class="s">&gt;&gt;&gt; b"</span><span class="se">\\</span><span class="s">123omething special".decode('</span><span class="n">string</span><span class="o">-</span><span class="n">escape</span><span class="s">')</span><span class="err">
</span><span class="s">Traceback (most recent call last):</span><span class="err">
</span><span class="s">  File "&lt;stdin&gt;", line 1, in &lt;module&gt;</span><span class="err">
</span><span class="s">LookupError: unknown encoding: string-escape</span><span class="err">
</span><span class="s">&gt;&gt;&gt;</span><span class="err">
</span></code></pre></div></div>

<p>My goal is to be abel to take a string like this:</p>

<p><code class="highlighter-rouge">s\000u\000p\000p\000o\000r\000t\000@\000p\000s\000i\000l\000o\000c\000.\000c\000o\000m\000</code>
And turn it into:</p>

<p><code class="highlighter-rouge">"support@psiloc.com"</code>
After I do the conversion, I’ll probe to see if the string I have is encoded in UTF-8 or UTF-16.</p>

<p>我们看到了几个提供了线索的答案，也就是：
<img src="/assets/images/QQ截图20200311012229.png" alt="p1" />
这里是使用了编码后解码的方案，这里我也找到了另外一个看起来比较靠谱的代码：</p>

<p><code class="highlighter-rouge">feed.encode('utf8').decode('unicode_escape')</code></p>

<p>这个代码也就是首先对 <code class="highlighter-rouge">str</code> 进行utf8编码，而后作为unicode的escape文本进行解码，完成解码操作，我们实际操作一番：</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">ss</span> <span class="o">=</span> <span class="s">r'\x23\x45\x3C'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ss</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf8'</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'unicode_escape'</span><span class="p">)</span>
<span class="s">'#E&lt;'</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div></div>
<p>似乎效果立杆见影！看来这里在进行utf8编码时，并没有将转义符号进行二次编码，而后一次解码则刚刚好将utf8编码时的新转义字符连同原有的转义字符一起进行了解码，实现最终解码的效果，管它具体原理呢，把代码超过来试一把…果然，抄代码一时爽，一直抄…结果终于就出事故了：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">feed</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf8'</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'unicode_escape'</span><span class="p">)</span>
<span class="s">'class="info-detail"&gt;&lt;span  class=" ui-mr8 state" &gt;3æ</span><span class="se">\x9c\x88</span><span class="s">7æ</span><span class="se">\x97</span><span class="s">¥ 22:01&lt;</span><span class="se">\\</span><span class="s">/span&gt;&lt;a href="javascript:;" data-cmd="qz_sign" class="f-sign-show state" title="æ</span><span class="se">\x88\x91</span><span class="s">ä¹</span><span class="se">\x9f</span><span class="s">è¦</span><span class="se">\x81</span><span class="s">è®¾ç½®"&gt;&lt;</span><span class="se">\\</span><span class="s">/a&gt;&lt;</span><span class="se">\\</span><span class="s">/div&gt;&lt;</span><span class="se">\\</span><span class="s">/div&gt;&lt;</span><span class="se">\\</span><span class="s">/div&gt;&lt;div class="f-single-content f-wrap"&gt;&lt;div class="f-item f-s-i" id="feed_53702270_311_0_1583589681_0_1" data-feedsflag="" data-iswupfeed="1" data-key="7e6e330318a9635e0a8f0000" data-specialtype="" data-extend-info="0_0_1_0_0_0_0|08009cc0040f5001|0008000000000000" data-functype="" data-hasfollowed="1"&gt;&lt;div class="f-info qz_info_cut"&gt;æ</span><span class="se">\x88\x91</span><span class="s">æ</span><span class="se">\x95\x99</span><span class="s">ä½</span><span class="se">\xa0</span><span class="s">ä»¬æ</span><span class="se">\x80\x8e</span><span class="s">ä¹</span><span class="se">\x88</span><span class="s">å</span><span class="se">\x81\x9a</span><span class="s">è</span><span class="se">\x88\x94</span><span class="s">ç</span><span class="se">\x8b\x97</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">ä¸</span><span class="se">\x80</span><span class="s">å¤©ä¸</span><span class="se">\x89</span><span class="s">é</span><span class="se">\x81\x8d</span><span class="s">è¯·å®</span><span class="se">\x89</span><span class="s">è®°å¾</span><span class="se">\x97</span><span class="s">æ</span><span class="se">\x8a\x8a</span><span class="s">ç§°å</span><span class="se">\x91</span><span class="s">¼å¸¦ä¸</span><span class="se">\x8a</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥æ</span><span class="se">\x97</span><span class="s">©ä¸</span><span class="se">\x8a</span><span class="s">å¥½ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥æ</span><span class="se">\x99\x9a</span><span class="s">ä¸</span><span class="se">\x8a</span><span class="s">å¥½ï¼</span><span class="se">\x8c</span><span class="s">å¯¹æ</span><span class="se">\x96</span><span class="s">¹å</span><span class="se">\x9b\x9e</span><span class="s">ä½</span><span class="se">\xa0</span><span class="s">ä¸</span><span class="se">\x80</span><span class="s">å</span><span class="se">\x8f</span><span class="s">¥è¯</span><span class="se">\x9d</span><span class="s">èµ¶ç´§å</span><span class="se">\x8d\x81</span><span class="s">å</span><span class="se">\x8f</span><span class="s">¥è¯</span><span class="se">\x9d</span><span class="s">é¡¶ä¸</span><span class="se">\x8a</span><span class="s">å</span><span class="se">\x8e</span><span class="s">»å</span><span class="se">\x98\x98</span><span class="s">å¯</span><span class="se">\x92</span><span class="s">é</span><span class="se">\x97</span><span class="s">®æ</span><span class="se">\x9a\x96</span><span class="s">è¦</span><span class="se">\x81</span><span class="s">å®</span><span class="se">\x89</span><span class="s">æ</span><span class="se">\x8e\x92</span><span class="s">ä¸</span><span class="se">\x8a</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x90\x83</span><span class="s">äº</span><span class="se">\x86</span><span class="s">å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x9c</span><span class="s">¨å¹²å</span><span class="se">\x98\x9b</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">ä¸</span><span class="se">\x8b</span><span class="s">é</span><span class="se">\x9b</span><span class="s">ªäº</span><span class="se">\x86</span><span class="s">å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">ä¸</span><span class="se">\x8b</span><span class="s">é</span><span class="se">\x9b</span><span class="s">¨äº</span><span class="se">\x86</span><span class="s">å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x86</span><span class="s">·å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x8a\xa0</span><span class="s">è¡£æ</span><span class="se">\x9c\x8d</span><span class="s">äº</span><span class="se">\x86</span><span class="s">å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ä½</span><span class="se">\xa0</span><span class="s">é</span><span class="se">\x82</span><span class="s">£é</span><span class="se">\x87\x8c</span><span class="s">é</span><span class="se">\x99\x8d</span><span class="s">æ¸©äº</span><span class="se">\x86</span><span class="s">è®°å¾</span><span class="se">\x97</span><span class="s">æ·»è¡£æ</span><span class="se">\x9c\x8d</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ä½</span><span class="se">\xa0</span><span class="s">é</span><span class="se">\x82</span><span class="s">£é</span><span class="se">\x87\x8c</span><span class="s">ä¸</span><span class="se">\x8b</span><span class="s">é</span><span class="se">\x9b</span><span class="s">¨äº</span><span class="se">\x86</span><span class="s">è®°å¾</span><span class="se">\x97</span><span class="s">å¸¦ä¼</span><span class="se">\x9e</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ä½</span><span class="se">\xa0</span><span class="s">å</span><span class="se">\x9c</span><span class="s">¨å</span><span class="se">\x93</span><span class="s">ªï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥æ</span><span class="se">\x88\x91</span><span class="s">è¯·ä½</span><span class="se">\xa0</span><span class="s">å</span><span class="se">\x90\x83</span><span class="s">é¥</span><span class="se">\xad</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥æ</span><span class="se">\x99\x9a</span><span class="s">ä¸</span><span class="se">\x8a</span><span class="s">æ</span><span class="se">\x9c\x89</span><span class="s">æ</span><span class="se">\x97</span><span class="s">¶é</span><span class="se">\x97</span><span class="s">´å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ä¸</span><span class="se">\xad</span><span class="s">å</span><span class="se">\x8d\x88</span><span class="s">æ</span><span class="se">\x9c\x89</span><span class="s">æ</span><span class="se">\x97</span><span class="s">¶é</span><span class="se">\x97</span><span class="s">´å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥è¾</span><span class="se">\x9b</span><span class="s">è</span><span class="se">\x8b</span><span class="s">¦äº</span><span class="se">\x86</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ç©¿è¿</span><span class="se">\x99</span><span class="s">èº«ç</span><span class="se">\x9c\x9f</span><span class="s">å¸</span><span class="se">\x85</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ä½</span><span class="se">\xa0</span><span class="s">ç</span><span class="se">\x9c\x8b</span><span class="s">ä»</span><span class="se">\x8a</span><span class="s">æ</span><span class="se">\x99\x9a</span><span class="s">ç</span><span class="se">\x9a\x84</span><span class="s">æ</span><span class="se">\x98\x9f</span><span class="s">æ</span><span class="se">\x98\x9f</span><span class="s">ï¼</span><span class="se">\x8c</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥ä½</span><span class="se">\xa0</span><span class="s">è¦</span><span class="se">\x81</span><span class="s">ç</span><span class="se">\x9d</span><span class="s">¡è§</span><span class="se">\x89</span><span class="s">äº</span><span class="se">\x86</span><span class="s">å</span><span class="se">\x90\x97</span><span class="s">ï¼</span><span class="se">\x9f</span><span class="s">å</span><span class="se">\x93</span><span class="s">¥å</span><span class="se">\x93</span><span class="s">¥æ</span><span class="se">\x88\x91</span><span class="s">è§</span><span class="se">\x89</span><span class="s">å¾</span><span class="se">\x97</span><span class="s">è¿</span><span class="se">\x99</span><span class="s">ä¸ªç</span><span class="se">\x89</span><span class="s">¹å</span><span class="se">\x88</span><span class="s">«é</span><span class="se">\x80\x82</span><span class="s">å</span><span class="se">\x90\x88</span><span class="s">ä½</span><span class="se">\xa0</span><span class="s">å°±ç»</span><span class="se">\x99</span><span class="s">ä½</span><span class="se">\xa0</span><span class="s">ä¹°äº</span><span class="se">\x86</span><span class="s">ä½</span><span class="se">\xa0</span><span class="s">å</span><span class="se">\x88</span><span class="s">«ä¸</span><span class="se">\x8d</span><span class="s">é«</span><span class="se">\x98</span><span class="s"> &lt;a'</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div></div>

<p>这种操作对中文似乎有致命伤啊，所有中文经过这样操作以后，全成乱码了…这可咋整捏？</p>

<h2 id="方案二">方案二</h2>
<p>下面验证另外一种方法：
<img src="/assets/images/QQ截图20200311012330.png" alt="p2" /></p>

<h2 id="方案三使用codecs类进行escape_decode">方案三：使用<code class="highlighter-rouge">codecs</code>类进行escape_decode</h2>
<p><img src="/assets/images/QQ截图20200311013556.png" alt="" /></p>

<h2 id="方案四使用re进行正则替换">方案四：使用<code class="highlighter-rouge">re</code>进行正则替换</h2>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to
                        Ghost</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/dexfire.png" alt="dexfire"/>
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name">
                                    <a href="/author/dexfire">Dexfire Alex</a>
                                </h4>
                                
                                    <p>水中月是天上月，眼前人是心上人</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/dexfire">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = '/';
                            this.page.identifier = 'Ghost';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://dexfire.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"  style="background-image: url(/assets/images/blog-cover.jpg)" >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash;
                                Ghost
                                &mdash;</small>
                            
                                <h3 class="read-next-card-header-title">
                                    <a href="/tag/python/">Python</a>
                                </h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                    
                                        
                                            
                                            
                                                <li>
                                                    <a href="/Python%E5%9F%BA%E7%A1%80-%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86%E4%B9%8Blogging%E6%A8%A1%E5%9D%97">【Python基础】日志处理之logging模块</a>
                                                </li>
                                            
                                        
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        
                                    
                                
                                    
                                
                                    
                                
                                    
                                        
                                            
                                            
                                                <li>
                                                    <a href="/%E7%88%AC%E8%99%AB-QQ%E7%A9%BA%E9%97%B4%E7%88%AC%E8%99%AB%E7%AE%80%E5%8D%95%E6%80%9D%E8%B7%AF">【爬虫】QQ空间爬虫简单思路</a>
                                                </li>
                                            
                                        
                                    
                                
                                    
                                        
                                            
                                            
                                                <li>
                                                    <a href="/%E6%A4%8D%E6%A0%91%E8%8A%82-%E4%BA%91%E8%BE%B9%E6%9C%89%E4%B8%AA%E5%B0%8F%E5%8D%96%E9%83%A8-%E7%AE%80%E8%AF%84">【QQ空间爬虫】关于QQ空间g_tk的生成方法的python实现</a>
                                                </li>
                                            
                                        
                                    
                                
                                    
                                        
                                            
                                            
                                        
                                    
                                
                                    
                                        
                                            
                                            
                                        
                                    
                                
                                    
                                        
                                            
                                            
                                        
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        
                                            
                                            
                                        
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/python/">
                                
                                    See all
                                    7
                                    posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

<article class="post-card  no-image">
    
    <div class="post-card-content">
        <a class="post-card-content-link" href="/%E8%BD%AC%E8%BD%BD-%E4%BD%A0%E7%9A%84%E8%BA%AB%E6%9D%90-%E5%87%BA%E5%8D%96%E4%BA%86%E4%BD%A0%E7%9A%84%E7%94%9F%E6%B4%BB%E5%B1%82%E6%AC%A1">
            <header class="post-card-header">
                

                <h2 class="post-card-title">【转载】《你的身材，出卖了你的生活层次》</h2>
            </header>
            <section class="post-card-excerpt">
                
                    <p></p>
                
            </section>
        </a>
        <footer class="post-card-meta">
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            <span class="reading-time">
                
                
                    1 min read
                
            </span>
        </footer>
    </div>
</article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

<article class="post-card post-template">
    
        <a class="post-card-image-link" href="/%E9%9A%8F%E6%83%B3-%E8%BF%99%E4%B8%96%E4%B8%8A%E4%B8%8D%E5%B9%B8%E7%A6%8F%E7%9A%84%E4%BA%BA-%E5%A4%A7%E5%A4%9A%E6%98%AF%E8%BF%87%E5%88%86%E8%87%AA%E7%A7%81%E7%9A%84%E4%BA%BA">
            
                <div class="post-card-image" style="background-image: url(/assets/images/4d13e10460727926.jpg)"></div>
            
            <!-- <div class="post-card-image" style="background-image: url(/4d13e10460727926.jpg)"></div> -->
        </a>
    
    <div class="post-card-content">
        <a class="post-card-content-link" href="/%E9%9A%8F%E6%83%B3-%E8%BF%99%E4%B8%96%E4%B8%8A%E4%B8%8D%E5%B9%B8%E7%A6%8F%E7%9A%84%E4%BA%BA-%E5%A4%A7%E5%A4%9A%E6%98%AF%E8%BF%87%E5%88%86%E8%87%AA%E7%A7%81%E7%9A%84%E4%BA%BA">
            <header class="post-card-header">
                
                    
                        
                            <span class="post-card-tags">Eco</span>
                        
                    
                

                <h2 class="post-card-title">【经济】基金下跌时，应该赎回吗？</h2>
            </header>
            <section class="post-card-excerpt">
                
                    <p></p>
                
            </section>
        </a>
        <footer class="post-card-meta">
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
                    
                        <img class="author-profile-image" src="/assets/images/dexfire.png" alt="Dexfire Alex"/>
                    
                    <span class="post-card-author">
                        <a href="/author/dexfire/">Dexfire Alex</a>
                    </span>
                
            
            <span class="reading-time">
                
                
                    1 min read
                
            </span>
        </footer>
    </div>
</article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="/">
            
                <img src="/assets/images/favicon.png" alt="Ghost icon" />
            
            <span>Ghost</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">【Python】Python正则表达式re.sub()之原位替换</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%E3%80%90Python%E3%80%91Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub%28%29%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2&amp;url=https://dexfire.github.io/Python-Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub()%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://dexfire.github.io/Python-Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fre.sub()%E4%B9%8B%E5%8E%9F%E4%BD%8D%E6%9B%BF%E6%8D%A2"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="/">Ghost</a> &copy;
                    2020</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    <a href="https://facebook.com/ghost" target="_blank"
                        rel="noopener">Facebook</a>
                    <a href="https://twitter.com/tryghost" target="_blank"
                        rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <img class="subscribe-overlay-logo" src="/assets/images/blog-icon.png" alt="Ghost" />
            
            <h1 class="subscribe-overlay-title">Subscribe to Ghost</h1>
            <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered
                straight to your inbox</p>
            <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

        </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>
        // $(document).ready(function () {
        //     $('pre code').each(function (i, block) {
        //         hljs.highlightBlock(block);
        //     });
        // });
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
        </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <!--script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script-->


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69281367-1', 'auto');
  ga('send', 'pageview');

</script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>

</html>